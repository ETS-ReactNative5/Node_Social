{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/media/allen/SIMBAD/Flaskprojects/teklife/Teklife/Screens/EditProfile.js\";\n\nimport React from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport { AuthContext } from \"../App\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\n\nvar EditProfile = function EditProfile(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      full_name = _React$useState2[0],\n      setfullName = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      bio = _React$useState4[0],\n      setBio = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      loadingName = _React$useState6[0],\n      controlNameLoading = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      loadingBio = _React$useState8[0],\n      controlBioLoading = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      loggedOutLoading = _React$useState10[0],\n      controlLogoutLoading = _React$useState10[1];\n\n  var _React$useContext = React.useContext(AuthContext),\n      state = _React$useContext.state,\n      dispatch = _React$useContext.dispatch;\n\n  var url = state.url;\n\n  var update_name = function update_name() {\n    if (full_name == \"\") {\n      alert(\"Name must not be empty\");\n    } else {\n      controlNameLoading(true);\n      var formdata = new FormData();\n      formdata.append(\"full_name\", full_name);\n      fetch(url + \"/code_reservoir/update_name.php\", {\n        method: \"POST\",\n        headers: {\n          Authorization: \"Bearer \" + state.token\n        },\n        body: formdata\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        controlNameLoading(false);\n        alert(data);\n      }).catch(function (err) {\n        console.log(err);\n        controlNameLoading(false);\n      });\n    }\n  };\n\n  var update_bio = function update_bio() {\n    if (bio == \"\") {\n      alert(\"Your bio must not be empty\");\n    } else {\n      controlBioLoading(true);\n      var formdata = new FormData();\n      formdata.append(\"bio\", bio);\n      fetch(url + \"/code_reservoir/update_bio.php\", {\n        method: \"POST\",\n        headers: {\n          Authorization: \"Bearer \" + state.token\n        },\n        body: formdata\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        controlBioLoading(false);\n        alert(data);\n      }).catch(function (err) {\n        console.log(err);\n        controlBioLoading(false);\n      });\n    }\n  };\n\n  var logOut = function logOut() {\n    controlLogoutLoading(true);\n    var data = new FormData();\n    data.append(\"token\", state.token);\n    fetch(url + \"/code_reservoir/log_out.php\", {\n      method: \"POST\",\n      body: data\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch({\n        type: \"LOGOUT\"\n      });\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: url + \"/code_reservoir/\" + route.params.coverphoto\n    },\n    style: styles.coverPhoto,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }), React.createElement(Icon, {\n    name: \"camera\",\n    size: 35,\n    color: \"#fff\",\n    onPress: function onPress() {\n      return navigation.navigate(\"ChooseCoverPhoto\");\n    },\n    style: {\n      marginLeft: \"80%\",\n      alignSelf: \"flex-end\",\n      marginRight: 10,\n      marginTop: -30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), React.createElement(View, {\n    style: {\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: url + \"/code_reservoir/\" + route.params.user_img\n    },\n    style: styles.avartar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }), React.createElement(Icon, {\n    name: \"camera\",\n    size: 35,\n    color: \"rgb(95, 32, 155)\",\n    style: {\n      alignSelf: \"center\",\n      marginRight: 10,\n      marginTop: -30\n    },\n    onPress: function onPress() {\n      return navigation.navigate(\"ChooseUserImg\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: {\n      marginTop: \"20%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.editName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 18\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, \"Edit Name\"), React.createElement(View, {\n    style: styles.TextInputContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    style: styles.inputField,\n    placeholder: route.params.full_name,\n    onChangeText: function onChangeText(full_name) {\n      return setfullName(full_name);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }), loadingName ? React.createElement(Text, {\n    style: {\n      fontSize: 12\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, \"Updating...\") : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return update_name();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, React.createElement(Icon, {\n    name: \"checkmark-circle-outline\",\n    size: 35,\n    style: {\n      marginLeft: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  })))), React.createElement(View, {\n    style: styles.editName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: 18\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, \"Edit Bio\"), React.createElement(View, {\n    style: styles.TextInputContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    style: styles.inputField2,\n    placeholder: route.params.bio,\n    multiline: true,\n    maxLength: 70,\n    onChangeText: function onChangeText(bio) {\n      return setBio(bio);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }), loadingBio ? React.createElement(Text, {\n    style: {\n      fontSize: 12\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  }, \"Updating...\") : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return update_bio();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 19\n    }\n  }, React.createElement(Icon, {\n    name: \"checkmark-circle-outline\",\n    size: 35,\n    style: {\n      marginLeft: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }))))), React.createElement(TouchableOpacity, {\n    style: styles.logoutButton,\n    onPress: function onPress() {\n      return logOut();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, loggedOutLoading ? React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, \"Logging out...\") : React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, \"Logout\")))));\n};\n\nexport default EditProfile;\nvar styles = StyleSheet.create({\n  coverPhoto: {\n    height: HEIGHT / 4,\n    width: \"100%\",\n    borderBottomRightRadius: 15,\n    borderBottomLeftRadius: 15\n  },\n  avartar: {\n    width: 110,\n    height: 110,\n    borderRadius: 110,\n    marginTop: -50,\n    borderWidth: 3,\n    borderColor: \"#fff\"\n  },\n  editName: {\n    marginTop: 20,\n    alignItems: \"center\"\n  },\n  TextInputContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  inputField: {\n    width: \"80%\",\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 10,\n    borderWidth: 1,\n    borderColor: \"#3333\",\n    borderRadius: 20,\n    fontSize: 20\n  },\n  inputField2: {\n    width: \"80%\",\n    paddingLeft: 10,\n    borderWidth: 1,\n    borderColor: \"#3333\",\n    borderRadius: 20,\n    fontSize: 20,\n    height: 100\n  },\n  logoutButton: {\n    marginTop: 50,\n    marginBottom: 20,\n    alignSelf: \"center\",\n    backgroundColor: \"rgb(172, 12, 12)\",\n    width: 300,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 20\n  },\n  buttonText: {\n    color: \"#fff\",\n    fontWeight: \"bold\",\n    paddingTop: 10,\n    paddingBottom: 10\n  }\n});","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/teklife/Teklife/Screens/EditProfile.js"],"names":["React","Icon","AuthContext","WIDTH","Dimensions","get","width","HEIGHT","height","EditProfile","navigation","route","useState","full_name","setfullName","bio","setBio","loadingName","controlNameLoading","loadingBio","controlBioLoading","loggedOutLoading","controlLogoutLoading","useContext","state","dispatch","url","update_name","alert","formdata","FormData","append","fetch","method","headers","Authorization","token","body","then","res","json","data","catch","err","console","log","update_bio","logOut","type","flex","uri","params","coverphoto","styles","coverPhoto","navigate","marginLeft","alignSelf","marginRight","marginTop","alignItems","user_img","avartar","editName","fontWeight","fontSize","TextInputContainer","inputField","inputField2","logoutButton","buttonText","StyleSheet","create","borderBottomRightRadius","borderBottomLeftRadius","borderRadius","borderWidth","borderColor","display","flexDirection","paddingTop","paddingBottom","paddingLeft","marginBottom","backgroundColor","justifyContent","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Text,\n  View,\n  StyleSheet,\n  ScrollView,\n  TextInput,\n  TouchableOpacity,\n  Dimensions,\n  Image\n} from \"react-native\";\nimport Icon from \"react-native-vector-icons/Ionicons\";\nimport { AuthContext } from \"../App\";\n\nconst WIDTH = Dimensions.get(\"window\").width;\nconst HEIGHT = Dimensions.get(\"window\").height;\n\nconst EditProfile = ({ navigation, route }) => {\n  const [full_name, setfullName] = React.useState(\"\");\n  const [bio, setBio] = React.useState(\"\");\n  const [loadingName, controlNameLoading] = React.useState(false);\n  const [loadingBio, controlBioLoading] = React.useState(false);\n  const [loggedOutLoading, controlLogoutLoading] = React.useState(false);\n  const { state, dispatch } = React.useContext(AuthContext);\n\n  let url = state.url;\n\n  const update_name = () => {\n    if (full_name == \"\") {\n      alert(\"Name must not be empty\");\n    } else {\n      controlNameLoading(true);\n      const formdata = new FormData();\n      formdata.append(\"full_name\", full_name);\n      fetch(`${url}/code_reservoir/update_name.php`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${state.token}`\n        },\n        body: formdata\n      })\n        .then(res => res.json())\n        .then(data => {\n          controlNameLoading(false);\n          alert(data);\n        })\n        .catch(err => {\n          console.log(err);\n          controlNameLoading(false);\n        });\n    }\n  };\n\n  const update_bio = () => {\n    if (bio == \"\") {\n      alert(\"Your bio must not be empty\");\n    } else {\n      controlBioLoading(true);\n      const formdata = new FormData();\n      formdata.append(\"bio\", bio);\n      fetch(`${url}/code_reservoir/update_bio.php`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${state.token}`\n        },\n        body: formdata\n      })\n        .then(res => res.json())\n        .then(data => {\n          controlBioLoading(false);\n          alert(data);\n        })\n        .catch(err => {\n          console.log(err);\n          controlBioLoading(false);\n        });\n    }\n  };\n\n  const logOut = () => {\n    controlLogoutLoading(true);\n    let data = new FormData();\n    data.append(\"token\", state.token);\n    fetch(`${url}/code_reservoir/log_out.php`, {\n      method: \"POST\",\n      body: data\n    })\n      .then(res => res.json())\n      .then(data => {\n        dispatch({ type: \"LOGOUT\" });\n      })\n      .catch(err => console.log(err));\n  };\n\n  return (\n    <View style={{ flex: 1 }}>\n      <ScrollView>\n        <View>\n          <Image\n            source={{ uri: `${url}/code_reservoir/${route.params.coverphoto}` }}\n            style={styles.coverPhoto}\n          />\n\n          <Icon\n            name=\"camera\"\n            size={35}\n            color=\"#fff\"\n            onPress={() => navigation.navigate(\"ChooseCoverPhoto\")}\n            style={{\n              marginLeft: \"80%\",\n              alignSelf: \"flex-end\",\n              marginRight: 10,\n              marginTop: -30\n            }}\n          />\n\n          <View style={{ alignItems: \"center\" }}>\n            <Image\n              source={{ uri: `${url}/code_reservoir/${route.params.user_img}` }}\n              style={styles.avartar}\n            />\n            <Icon\n              name=\"camera\"\n              size={35}\n              color=\"rgb(95, 32, 155)\"\n              style={{\n                alignSelf: \"center\",\n                marginRight: 10,\n                marginTop: -30\n              }}\n              onPress={() => navigation.navigate(\"ChooseUserImg\")}\n            />\n          </View>\n          <View style={{ marginTop: \"20%\" }}>\n            <View style={styles.editName}>\n              <Text style={{ fontWeight: \"bold\", fontSize: 18 }}>\n                Edit Name\n              </Text>\n              <View style={styles.TextInputContainer}>\n                <TextInput\n                  style={styles.inputField}\n                  placeholder={route.params.full_name}\n                  onChangeText={full_name => setfullName(full_name)}\n                />\n                {loadingName ? (\n                  <Text style={{ fontSize: 12 }}>Updating...</Text>\n                ) : (\n                  <TouchableOpacity onPress={() => update_name()}>\n                    <Icon\n                      name=\"checkmark-circle-outline\"\n                      size={35}\n                      style={{ marginLeft: 20 }}\n                    />\n                  </TouchableOpacity>\n                )}\n              </View>\n            </View>\n            <View style={styles.editName}>\n              <Text style={{ fontWeight: \"bold\", fontSize: 18 }}>Edit Bio</Text>\n              <View style={styles.TextInputContainer}>\n                <TextInput\n                  style={styles.inputField2}\n                  placeholder={route.params.bio}\n                  multiline\n                  maxLength={70}\n                  onChangeText={bio => setBio(bio)}\n                />\n                {loadingBio ? (\n                  <Text style={{ fontSize: 12 }}>Updating...</Text>\n                ) : (\n                  <TouchableOpacity onPress={() => update_bio()}>\n                    <Icon\n                      name=\"checkmark-circle-outline\"\n                      size={35}\n                      style={{ marginLeft: 20 }}\n                    />\n                  </TouchableOpacity>\n                )}\n              </View>\n            </View>\n          </View>\n          <TouchableOpacity\n            style={styles.logoutButton}\n            onPress={() => logOut()}\n          >\n            {loggedOutLoading ? (\n              <Text style={styles.buttonText}>Logging out...</Text>\n            ) : (\n              <Text style={styles.buttonText}>Logout</Text>\n            )}\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default EditProfile;\n\nconst styles = StyleSheet.create({\n  coverPhoto: {\n    height: HEIGHT / 4,\n    width: \"100%\",\n    borderBottomRightRadius: 15,\n    borderBottomLeftRadius: 15\n  },\n  avartar: {\n    width: 110,\n    height: 110,\n    borderRadius: 110,\n    marginTop: -50,\n    borderWidth: 3,\n    borderColor: \"#fff\"\n  },\n  editName: {\n    marginTop: 20,\n    alignItems: \"center\"\n  },\n\n  TextInputContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  inputField: {\n    width: \"80%\",\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 10,\n    borderWidth: 1,\n    borderColor: \"#3333\",\n    borderRadius: 20,\n    fontSize: 20\n  },\n\n  inputField2: {\n    width: \"80%\",\n    paddingLeft: 10,\n    borderWidth: 1,\n    borderColor: \"#3333\",\n    borderRadius: 20,\n    fontSize: 20,\n    height: 100\n  },\n  logoutButton: {\n    marginTop: 50,\n    marginBottom: 20,\n    alignSelf: \"center\",\n    backgroundColor: \"rgb(172, 12, 12)\",\n    width: 300,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 20\n  },\n  buttonText: {\n    color: \"#fff\",\n    fontWeight: \"bold\",\n    paddingTop: 10,\n    paddingBottom: 10\n  }\n});\n"]},"metadata":{},"sourceType":"module"}