{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/media/allen/SIMBAD/Flaskprojects/teklife/Teklife/Screens/Home.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { Constants } from \"expo\";\nimport * as Permissions from \"expo-permissions\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as DocumentPicker from \"expo-document-picker\";\nimport getPermission from \"../utils/getPermission\";\nimport * as Animatable from \"react-native-animatable\";\nimport { AuthContext } from \"../App\";\nimport jwt_decode from \"jwt-decode\";\nimport { Header } from \"react-native-elements\";\nimport { RectButton } from \"react-native-gesture-handler\";\nimport DrawerLayout from \"react-native-gesture-handler/DrawerLayout\";\n\nvar io = require(\"socket.io-client\");\n\nimport { ContainerScroll, Container, ContainerHeader, ContainerItemStory, ContainerPhoto, Photo, Name, PostPhoto, ContainerActions, ContainerActionsIcons, GroupIcons, Label } from \"../Components/Posts/styles\";\nimport { FontAwesome5 } from \"@expo/vector-icons\";\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport { BottomSheet } from \"react-native-btr\";\nimport { Video, AVPlaybackStatus } from \"expo-av\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\nvar socket = io(\"http://10.74.15.133:3000\", {\n  transports: [\"websocket\"]\n});\nvar options = {\n  allowsEditing: true\n};\nvar options2 = {\n  type: \"video/*\"\n};\n\nvar Home = function Home(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useContext = React.useContext(AuthContext),\n      state = _React$useContext.state,\n      dispatch = _React$useContext.dispatch;\n\n  var url = state.url;\n  var token = state.token;\n  var decoded = jwt_decode(token);\n  var user_id = decoded;\n\n  var _React$useState = React.useState({\n    color: \"#333\",\n    size: 20,\n    style: {\n      paddingRight: 15\n    }\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      iconsConfigure = _React$useState2[0];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      posts = _React$useState4[0],\n      setState = _React$useState4[1];\n\n  var _React$useState5 = React.useState([]),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      user = _React$useState6[0],\n      fetch_user = _React$useState6[1];\n\n  var _React$useState7 = React.useState(true),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      loading = _React$useState8[0],\n      controlLoading = _React$useState8[1];\n\n  var _React$useState9 = React.useState(0),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      max = _React$useState10[0],\n      setMax = _React$useState10[1];\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      modalVisible = _React$useState12[0],\n      setModalVisible = _React$useState12[1];\n\n  var _React$useState13 = React.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      bottomModalVisible = _React$useState14[0],\n      setBottomModalVisible = _React$useState14[1];\n\n  var _React$useState15 = React.useState(null),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      selectedId = _React$useState16[0],\n      setSelectedId = _React$useState16[1];\n\n  var video = React.useRef(null);\n\n  var _React$useState17 = React.useState({}),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      status = _React$useState18[0],\n      setStatus = _React$useState18[1];\n\n  var openModal = function openModal(id) {\n    setModalVisible(true);\n    setSelectedId(id);\n  };\n\n  var toggleBottomSheet = function toggleBottomSheet() {\n    setBottomModalVisible(!bottomModalVisible);\n  };\n\n  var delete_post = function delete_post(id) {\n    setModalVisible(false);\n    var post_list = posts;\n\n    for (var i = 0; i < post_list.length; i++) {\n      var p = post_list[i];\n\n      if (p.p_id === id) {\n        post_list.splice(i, 1);\n        break;\n      }\n    }\n\n    setState(post_list);\n    var data = new FormData();\n    data.append(\"id\", id);\n    fetch(url + \"/code_reservoir/delete_post.php\", {\n      method: \"POST\",\n      body: data\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      alert(data.message);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var _selectPhoto = function _selectPhoto() {\n    var status, result;\n    return _regeneratorRuntime.async(function _selectPhoto$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(getPermission(Permissions.CAMERA_ROLL));\n\n          case 2:\n            status = _context.sent;\n\n            if (!status) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync(options));\n\n          case 6:\n            result = _context.sent;\n\n            if (!result.cancelled) {\n              navigation.navigate(\"PostPicture\", {\n                image: result.uri\n              });\n              toggleBottomSheet();\n            }\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _takePhoto = function _takePhoto() {\n    var status, result;\n    return _regeneratorRuntime.async(function _takePhoto$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(getPermission(Permissions.CAMERA));\n\n          case 2:\n            status = _context2.sent;\n\n            if (!status) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync(options));\n\n          case 6:\n            result = _context2.sent;\n\n            if (!result.cancelled) {\n              navigation.navigate(\"PostPicture\", {\n                image: result.uri\n              });\n              toggleBottomSheet();\n            }\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _addVideo = function _addVideo() {\n    var status, result;\n    return _regeneratorRuntime.async(function _addVideo$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(getPermission(Permissions.CAMERA_ROLL));\n\n          case 2:\n            status = _context3.sent;\n\n            if (!status) {\n              _context3.next = 8;\n              break;\n            }\n\n            _context3.next = 6;\n            return _regeneratorRuntime.awrap(DocumentPicker.getDocumentAsync(options2));\n\n          case 6:\n            result = _context3.sent;\n\n            if (!result.cancelled) {\n              navigation.navigate(\"PostVideo\", {\n                video: result.uri\n              });\n              toggleBottomSheet();\n            }\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var fetch_posts = function fetch_posts() {\n    fetch(url + \"/code_reservoir/fetch_posts.php/?max=\" + max, {\n      method: \"GET\",\n      \"Content-Type\": \"application/json\",\n      headers: {\n        Authorization: \"Bearer \" + state.token\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      setState(data.posts);\n      fetch_user(data.user);\n      controlLoading(false);\n      setMax(data.post_count);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n    setTimeout(fetch_posts, 6000);\n  };\n\n  var like = function like(id) {\n    var newPost = posts.map(function (p) {\n      return p.p_id === id ? _objectSpread(_objectSpread({}, p), {}, {\n        post_liker: user_id,\n        total_likes: p.total_likes + 1\n      }) : p;\n    });\n    setState(newPost);\n    var data = new FormData();\n    data.append(\"post_id\", id);\n    data.append(\"token\", state.token);\n    fetch(url + \"/code_reservoir/like_post.php\", {\n      method: \"POST\",\n      body: data\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      return console.log(data.message);\n    }).catch(function (err) {\n      return alert(err);\n    });\n  };\n\n  var unlike = function unlike(e, id) {\n    var newPost, data;\n    return _regeneratorRuntime.async(function unlike$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            newPost = posts.map(function (p) {\n              return p.p_id === id ? _objectSpread(_objectSpread({}, p), {}, {\n                post_liker: null,\n                total_likes: p.total_likes - 1\n              }) : p;\n            });\n            setState(newPost);\n            data = new FormData();\n            data.append(\"post_id\", id);\n            data.append(\"token\", state.token);\n            fetch(url + \"/code_reservoir/unlike_post.php\", {\n              method: \"POST\",\n              body: data\n            }).then(function (res) {\n              return res.json();\n            });\n\n          case 6:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  React.useEffect(function () {\n    fetch_posts();\n  }, []);\n  var drawerRef = React.useRef(null);\n\n  var renderDrawer = function renderDrawer() {\n    return React.createElement(View, {\n      style: {\n        marginTop: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 7\n      }\n    }, user.map(function (u) {\n      return React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: url + \"/code_reservoir/\" + u.coverphoto\n        },\n        style: styles.coverPhoto,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: {\n          alignItems: \"center\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"SingleProfile\", {\n            user_id: u.user_id\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: url + \"/code_reservoir/\" + u.user_img\n        },\n        style: styles.avartar,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 17\n        }\n      })), React.createElement(Text, {\n        style: styles.name,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 15\n        }\n      }, u.full_name)));\n    }), React.createElement(View, {\n      style: {\n        marginTop: 50,\n        marginLeft: 50\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.drawerTextContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, React.createElement(Icon, {\n      name: \"library\",\n      size: 30,\n      color: \"black\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }\n    }), React.createElement(Text, {\n      style: styles.drawerText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }, \"Library\")), React.createElement(View, {\n      style: styles.drawerTextContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }\n    }, React.createElement(Icon, {\n      name: \"calendar\",\n      size: 30,\n      color: \"black\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }), React.createElement(Text, {\n      style: styles.drawerText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }, \"Events\"))));\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: \"#fff\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 5\n    }\n  }, React.createElement(DrawerLayout, {\n    ref: drawerRef,\n    drawerWidth: 270,\n    drawerPosition: DrawerLayout.positions.Left,\n    drawerType: \"slide\",\n    drawerBackgroundColor: \"#fff\",\n    renderNavigationView: renderDrawer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }\n  }, React.createElement(Header, {\n    placement: \"left\",\n    centerComponent: React.createElement(Text, {\n      style: {\n        fontSize: 24,\n        fontStyle: \"italic\",\n        fontWeight: \"bold\",\n        color: \"rgb(95, 32, 155)\",\n        alignSelf: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }\n    }, \"Teklife\"),\n    rightComponent: React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return toggleBottomSheet();\n      },\n      style: {\n        marginLeft: 20\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 13\n      }\n    }, React.createElement(Icon, {\n      name: \"add-circle-outline\",\n      size: 27,\n      color: \"rgb(95, 32, 155)\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 15\n      }\n    })),\n    leftComponent: React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return drawerRef.current.openDrawer();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }\n    }, React.createElement(Icon, {\n      name: \"menu-outline\",\n      size: 27,\n      color: \"rgb(95, 32, 155)\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 15\n      }\n    })),\n    containerStyle: {\n      backgroundColor: \"#fff\",\n      height: \"13%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }\n  }), loading ? React.createElement(View, {\n    style: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      marginTop: HEIGHT / 3\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    source: require(\"../Images/loader5.gif\"),\n    style: {\n      height: 100,\n      width: 100\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 13\n    }\n  })) : React.createElement(ContainerScroll, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 11\n    }\n  }, posts.map(function (post, index) {\n    return React.createElement(Container, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 15\n      }\n    }, React.createElement(ContainerHeader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate(\"SingleProfile\", {\n          user_id: post.owner_id\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    }, React.createElement(ContainerItemStory, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }\n    }, React.createElement(ContainerPhoto, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 23\n      }\n    }, React.createElement(Photo, {\n      source: {\n        uri: url + \"/code_reservoir/\" + post.user_img\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 25\n      }\n    })), React.createElement(Name, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 23\n      }\n    }, post.full_name))), post.owner_id == user_id ? React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return openModal(post.p_id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 21\n      }\n    }, React.createElement(FontAwesome5, {\n      name: \"ellipsis-h\",\n      size: 18,\n      color: \"#888\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 23\n      }\n    })) : null), post.is_video === \"true\" ? React.createElement(Video, {\n      ref: video,\n      source: {\n        uri: url + \"/code_reservoir/\" + post.post_media\n      },\n      style: styles.myVideo,\n      useNativeControls: true,\n      resizeMode: \"cover\",\n      onPlaybackStatusUpdate: function onPlaybackStatusUpdate(status) {\n        return setStatus(function () {\n          return status;\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 19\n      }\n    }) : React.createElement(PostPhoto, {\n      source: {\n        uri: url + \"/code_reservoir/\" + post.post_media\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 19\n      }\n    }), React.createElement(ContainerActions, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }\n    }, React.createElement(ContainerActionsIcons, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 19\n      }\n    }, React.createElement(GroupIcons, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 21\n      }\n    }, post.post_liker === null ? React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return like(post.p_id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 25\n      }\n    }, React.createElement(Icon, {\n      name: \"heart-outline\",\n      size: 25,\n      color: \"black\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 27\n      }\n    })) : React.createElement(TouchableOpacity, {\n      onPress: function onPress(e) {\n        return unlike(e, post.p_id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 25\n      }\n    }, React.createElement(Icon, {\n      name: \"heart\",\n      color: \"red\",\n      size: 25,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 27\n      }\n    })), React.createElement(TouchableOpacity, {\n      style: {\n        marginLeft: 10,\n        marginTop: 2\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 23\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate(\"SinglePost\", {\n          post_id: post.p_id\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 25\n      }\n    }, React.createElement(FontAwesome5, _extends({\n      name: \"comment\"\n    }, iconsConfigure, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 27\n      }\n    }))))), React.createElement(FontAwesome5, _extends({\n      name: \"bookmark\"\n    }, iconsConfigure, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 21\n      }\n    }))), React.createElement(Label, {\n      style: {\n        marginTop: -20\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 19\n      }\n    }, post.total_likes, \" Likes\"), React.createElement(Label, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 19\n      }\n    }, post.post_caption), post.total_comments > 0 ? React.createElement(TouchableOpacity, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      onPress: function onPress() {\n        return navigation.navigate(\"SinglePost\", {\n          post_id: post.p_id\n        });\n      },\n      style: {\n        color: \"grey\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 23\n      }\n    }, post.total_comments, \" comments\")) : null));\n  })), React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      return setModalVisible(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return setModalVisible(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.modalOverlay,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.modalContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 11\n    }\n  }, React.createElement(Icon, {\n    name: \"trash\",\n    size: 30,\n    onPress: function onPress() {\n      return delete_post(selectedId);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 13\n    }\n  }, \"Delete Post\"))), React.createElement(BottomSheet, {\n    visible: bottomModalVisible,\n    onBackdropPress: toggleBottomSheet,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.bottomModal,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return _selectPhoto();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 15\n    }\n  }, React.createElement(Icon, {\n    name: \"image-outline\",\n    size: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginTop: 2,\n      marginLeft: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 17\n    }\n  }, \"Select Photo/GIF\"))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return _takePhoto();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      marginTop: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 15\n    }\n  }, React.createElement(Icon, {\n    name: \"camera-outline\",\n    size: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginTop: 2,\n      marginLeft: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 17\n    }\n  }, \"Take Photo\"))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return _addVideo();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      marginTop: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 15\n    }\n  }, React.createElement(Icon, {\n    name: \"videocam-outline\",\n    size: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: {\n      marginTop: 2,\n      marginLeft: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 17\n    }\n  }, \"Add Video\")))))));\n};\n\nvar styles = StyleSheet.create({\n  drawerText: {\n    fontSize: 22,\n    fontWeight: \"bold\",\n    marginLeft: 5,\n    color: \"black\"\n  },\n  drawerTextContainer: {\n    flexDirection: \"row\",\n    marginTop: 20,\n    width: \"100%\"\n  },\n  coverPhoto: {\n    height: 200,\n    width: \"100%\"\n  },\n  avartar: {\n    width: 110,\n    height: 110,\n    borderRadius: 110,\n    marginTop: -50,\n    borderWidth: 3,\n    borderColor: \"#fff\"\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  modalOverlay: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    height: HEIGHT,\n    width: WIDTH\n  },\n  modalContent: {\n    backgroundColor: \"#fff\",\n    height: 150,\n    width: \"80%\",\n    alignSelf: \"center\",\n    marginTop: HEIGHT / 3,\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  bottomModal: {\n    backgroundColor: \"#fff\",\n    height: 250,\n    width: \"100%\",\n    alignSelf: \"center\",\n    marginTop: HEIGHT / 3,\n    borderTopLeftRadius: 10,\n    borderTopRightRadius: 10,\n    paddingLeft: 10,\n    paddingTop: 10\n  },\n  myVideo: {\n    flex: 1,\n    margin: 5,\n    borderRadius: 10\n  }\n});\nexport default Home;","map":{"version":3,"sources":["/media/allen/SIMBAD/Flaskprojects/teklife/Teklife/Screens/Home.js"],"names":["React","Constants","Permissions","ImagePicker","DocumentPicker","getPermission","Animatable","AuthContext","jwt_decode","Header","RectButton","DrawerLayout","io","require","ContainerScroll","Container","ContainerHeader","ContainerItemStory","ContainerPhoto","Photo","Name","PostPhoto","ContainerActions","ContainerActionsIcons","GroupIcons","Label","FontAwesome5","Icon","BottomSheet","Video","AVPlaybackStatus","WIDTH","Dimensions","get","width","HEIGHT","height","socket","transports","options","allowsEditing","options2","type","Home","navigation","useContext","state","dispatch","url","token","decoded","user_id","useState","color","size","style","paddingRight","iconsConfigure","posts","setState","user","fetch_user","loading","controlLoading","max","setMax","modalVisible","setModalVisible","bottomModalVisible","setBottomModalVisible","selectedId","setSelectedId","video","useRef","status","setStatus","openModal","id","toggleBottomSheet","delete_post","post_list","i","length","p","p_id","splice","data","FormData","append","fetch","method","body","then","res","json","alert","message","catch","err","console","log","_selectPhoto","CAMERA_ROLL","launchImageLibraryAsync","result","cancelled","navigate","image","uri","_takePhoto","CAMERA","launchCameraAsync","_addVideo","getDocumentAsync","fetch_posts","headers","Authorization","post_count","setTimeout","like","newPost","map","post_liker","total_likes","unlike","e","useEffect","drawerRef","renderDrawer","marginTop","u","coverphoto","styles","coverPhoto","alignItems","user_img","avartar","name","full_name","marginLeft","drawerTextContainer","drawerText","flex","backgroundColor","positions","Left","fontSize","fontStyle","fontWeight","alignSelf","current","openDrawer","justifyContent","post","index","owner_id","is_video","post_media","myVideo","post_id","post_caption","total_comments","modalOverlay","modalContent","bottomModal","display","flexDirection","StyleSheet","create","borderRadius","borderWidth","borderColor","position","top","left","right","borderTopLeftRadius","borderTopRightRadius","paddingLeft","paddingTop","margin"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Text,\n  View,\n  Image,\n  TouchableOpacity,\n  Dimensions,\n  StyleSheet,\n  Modal,\n  TouchableWithoutFeedback\n} from \"react-native\";\nimport { Constants } from \"expo\";\nimport * as Permissions from \"expo-permissions\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as DocumentPicker from \"expo-document-picker\";\nimport getPermission from \"../utils/getPermission\";\nimport * as Animatable from \"react-native-animatable\";\nimport { AuthContext } from \"../App\";\nimport jwt_decode from \"jwt-decode\";\nimport { Header } from \"react-native-elements\";\nimport { RectButton } from \"react-native-gesture-handler\";\nimport DrawerLayout from \"react-native-gesture-handler/DrawerLayout\";\n\nconst io = require(\"socket.io-client\");\n\nimport {\n  ContainerScroll,\n  Container,\n  ContainerHeader,\n  ContainerItemStory,\n  ContainerPhoto,\n  Photo,\n  Name,\n  PostPhoto,\n  ContainerActions,\n  ContainerActionsIcons,\n  GroupIcons,\n  Label\n} from \"../Components/Posts/styles\";\nimport { FontAwesome5 } from \"@expo/vector-icons\";\nimport Icon from \"react-native-vector-icons/Ionicons\";\nimport { BottomSheet } from \"react-native-btr\";\nimport { Video, AVPlaybackStatus } from \"expo-av\";\n\nconst WIDTH = Dimensions.get(\"window\").width;\nconst HEIGHT = Dimensions.get(\"window\").height;\n\nconst socket = io(\"http://10.74.15.133:3000\", {\n  transports: [\"websocket\"]\n});\n\nconst options = {\n  allowsEditing: true\n};\n\nconst options2 = {\n  type: \"video/*\"\n};\n\nconst Home = ({ navigation }) => {\n  const { state, dispatch } = React.useContext(AuthContext);\n  let url = state.url;\n\n  const token = state.token;\n  const decoded = jwt_decode(token);\n  const user_id = decoded;\n\n  const [iconsConfigure] = React.useState({\n    color: \"#333\",\n    size: 20,\n    style: {\n      paddingRight: 15\n    }\n  });\n\n  const [posts, setState] = React.useState([]);\n  const [user, fetch_user] = React.useState([]);\n  const [loading, controlLoading] = React.useState(true);\n  const [max, setMax] = React.useState(0);\n  const [modalVisible, setModalVisible] = React.useState(false);\n  const [bottomModalVisible, setBottomModalVisible] = React.useState(false);\n  const [selectedId, setSelectedId] = React.useState(null);\n  const video = React.useRef(null);\n  const [status, setStatus] = React.useState({});\n\n  const openModal = id => {\n    setModalVisible(true);\n    setSelectedId(id);\n  };\n\n  const toggleBottomSheet = () => {\n    setBottomModalVisible(!bottomModalVisible);\n  };\n\n  const delete_post = id => {\n    setModalVisible(false);\n    let post_list = posts;\n    for (let i = 0; i < post_list.length; i++) {\n      let p = post_list[i];\n      if (p.p_id === id) {\n        post_list.splice(i, 1);\n        break;\n      }\n    }\n    setState(post_list);\n    const data = new FormData();\n    data.append(\"id\", id);\n    fetch(`${url}/code_reservoir/delete_post.php`, {\n      method: \"POST\",\n      body: data\n    })\n      .then(res => res.json())\n      .then(data => {\n        alert(data.message);\n      })\n      .catch(err => console.log(err));\n  };\n\n  const _selectPhoto = async () => {\n    const status = await getPermission(Permissions.CAMERA_ROLL);\n    if (status) {\n      const result = await ImagePicker.launchImageLibraryAsync(options);\n      if (!result.cancelled) {\n        navigation.navigate(\"PostPicture\", { image: result.uri });\n        toggleBottomSheet();\n      }\n    }\n  };\n\n  const _takePhoto = async () => {\n    const status = await getPermission(Permissions.CAMERA);\n    if (status) {\n      const result = await ImagePicker.launchCameraAsync(options);\n      if (!result.cancelled) {\n        navigation.navigate(\"PostPicture\", { image: result.uri });\n        toggleBottomSheet();\n      }\n    }\n  };\n\n  const _addVideo = async () => {\n    const status = await getPermission(Permissions.CAMERA_ROLL);\n    if (status) {\n      const result = await DocumentPicker.getDocumentAsync(options2);\n      if (!result.cancelled) {\n        navigation.navigate(\"PostVideo\", { video: result.uri });\n        toggleBottomSheet();\n      }\n    }\n  };\n\n  const fetch_posts = () => {\n    fetch(`${url}/code_reservoir/fetch_posts.php/?max=${max}`, {\n      method: \"GET\",\n      \"Content-Type\": \"application/json\",\n      headers: {\n        Authorization: `Bearer ${state.token}`\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        setState(data.posts);\n        fetch_user(data.user);\n        controlLoading(false);\n        setMax(data.post_count);\n      })\n      .catch(err => console.log(err));\n    setTimeout(fetch_posts, 6000);\n  };\n\n  const like = id => {\n    const newPost = posts.map(p =>\n      p.p_id === id\n        ? { ...p, post_liker: user_id, total_likes: p.total_likes + 1 }\n        : p\n    );\n\n    setState(newPost);\n\n    const data = new FormData();\n    data.append(\"post_id\", id);\n    data.append(\"token\", state.token);\n\n    fetch(`${url}/code_reservoir/like_post.php`, {\n      method: \"POST\",\n      body: data\n    })\n      .then(res => res.json())\n      .then(data => console.log(data.message))\n\n      .catch(err => alert(err));\n\n    // socket.emit(\"like_post\", { user_id: user_id, id: id });\n  };\n\n  const unlike = async (e, id) => {\n    const newPost = posts.map(p =>\n      p.p_id === id\n        ? { ...p, post_liker: null, total_likes: p.total_likes - 1 }\n        : p\n    );\n\n    setState(newPost);\n\n    const data = new FormData();\n    data.append(\"post_id\", id);\n    data.append(\"token\", state.token);\n\n    fetch(`${url}/code_reservoir/unlike_post.php`, {\n      method: \"POST\",\n      body: data\n    }).then(res => res.json());\n    // .then(data => alert(data.message));\n    // .catch(err=>alert(err))\n  };\n\n  React.useEffect(() => {\n    fetch_posts();\n  }, []);\n\n  const drawerRef = React.useRef(null);\n  const renderDrawer = () => {\n    return (\n      <View style={{ marginTop: 10 }}>\n        {user.map(u => (\n          <View>\n            <Image\n              source={{ uri: `${url}/code_reservoir/${u.coverphoto}` }}\n              style={styles.coverPhoto}\n            />\n\n            <View style={{ alignItems: \"center\" }}>\n              <TouchableOpacity\n                onPress={() =>\n                  navigation.navigate(\"SingleProfile\", { user_id: u.user_id })\n                }\n              >\n                <Image\n                  source={{ uri: `${url}/code_reservoir/${u.user_img}` }}\n                  style={styles.avartar}\n                />\n              </TouchableOpacity>\n              <Text style={styles.name}>{u.full_name}</Text>\n            </View>\n          </View>\n        ))}\n        <View style={{ marginTop: 50, marginLeft: 50 }}>\n          <View style={styles.drawerTextContainer}>\n            <Icon name=\"library\" size={30} color=\"black\" />\n            <Text style={styles.drawerText}>Library</Text>\n          </View>\n\n          <View style={styles.drawerTextContainer}>\n            <Icon name=\"calendar\" size={30} color=\"black\" />\n            <Text style={styles.drawerText}>Events</Text>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <View style={{ flex: 1, backgroundColor: \"#fff\" }}>\n      <DrawerLayout\n        ref={drawerRef}\n        drawerWidth={270}\n        drawerPosition={DrawerLayout.positions.Left}\n        drawerType=\"slide\"\n        drawerBackgroundColor=\"#fff\"\n        renderNavigationView={renderDrawer}\n      >\n        <Header\n          placement=\"left\"\n          centerComponent={\n            <Text\n              style={{\n                fontSize: 24,\n                fontStyle: \"italic\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 32, 155)\",\n                alignSelf: \"center\"\n              }}\n            >\n              Teklife\n            </Text>\n          }\n          rightComponent={\n            <TouchableOpacity\n              onPress={() => toggleBottomSheet()}\n              style={{ marginLeft: 20 }}\n            >\n              <Icon\n                name=\"add-circle-outline\"\n                size={27}\n                color=\"rgb(95, 32, 155)\"\n              />\n            </TouchableOpacity>\n          }\n          leftComponent={\n            <TouchableOpacity onPress={() => drawerRef.current.openDrawer()}>\n              <Icon name=\"menu-outline\" size={27} color=\"rgb(95, 32, 155)\" />\n            </TouchableOpacity>\n          }\n          containerStyle={{\n            backgroundColor: \"#fff\",\n            //justifyContent: 'space-around',\n            height: \"13%\"\n          }}\n        />\n        {loading ? (\n          <View\n            style={{\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              marginTop: HEIGHT / 3\n            }}\n          >\n            <Image\n              source={require(\"../Images/loader5.gif\")}\n              style={{ height: 100, width: 100 }}\n            />\n          </View>\n        ) : (\n          <ContainerScroll>\n            {posts.map((post, index) => (\n              <Container key={index}>\n                <ContainerHeader>\n                  <TouchableOpacity\n                    onPress={() =>\n                      navigation.navigate(\"SingleProfile\", {\n                        user_id: post.owner_id\n                      })\n                    }\n                  >\n                    <ContainerItemStory>\n                      <ContainerPhoto>\n                        <Photo\n                          source={{\n                            uri: `${url}/code_reservoir/${post.user_img}`\n                          }}\n                        />\n                      </ContainerPhoto>\n                      <Name>{post.full_name}</Name>\n                    </ContainerItemStory>\n                  </TouchableOpacity>\n                  {post.owner_id == user_id ? (\n                    <TouchableOpacity onPress={() => openModal(post.p_id)}>\n                      <FontAwesome5 name=\"ellipsis-h\" size={18} color=\"#888\" />\n                    </TouchableOpacity>\n                  ) : null}\n                </ContainerHeader>\n                {post.is_video === \"true\" ? (\n                  <Video\n                    ref={video}\n                    source={{\n                      uri: `${url}/code_reservoir/${post.post_media}`\n                    }}\n                    style={styles.myVideo}\n                    useNativeControls={true}\n                    resizeMode=\"cover\"\n                    //shouldPlay\n                    onPlaybackStatusUpdate={status => setStatus(() => status)}\n                  />\n                ) : (\n                  <PostPhoto\n                    source={{\n                      uri: `${url}/code_reservoir/${post.post_media}`\n                    }}\n                  />\n                )}\n                <ContainerActions>\n                  <ContainerActionsIcons>\n                    <GroupIcons>\n                      {post.post_liker === null ? (\n                        <TouchableOpacity onPress={() => like(post.p_id)}>\n                          <Icon name=\"heart-outline\" size={25} color=\"black\" />\n                        </TouchableOpacity>\n                      ) : (\n                        <TouchableOpacity onPress={e => unlike(e, post.p_id)}>\n                          <Icon name=\"heart\" color=\"red\" size={25} />\n                        </TouchableOpacity>\n                      )}\n                      <TouchableOpacity\n                        style={{ marginLeft: 10, marginTop: 2 }}\n                      >\n                        <TouchableOpacity\n                          onPress={() =>\n                            navigation.navigate(\"SinglePost\", {\n                              post_id: post.p_id\n                            })\n                          }\n                        >\n                          <FontAwesome5 name=\"comment\" {...iconsConfigure} />\n                        </TouchableOpacity>\n                      </TouchableOpacity>\n                    </GroupIcons>\n                    <FontAwesome5 name=\"bookmark\" {...iconsConfigure} />\n                  </ContainerActionsIcons>\n                  <Label style={{ marginTop: -20 }}>\n                    {post.total_likes} Likes\n                  </Label>\n                  <Label>{post.post_caption}</Label>\n                  {post.total_comments > 0 ? (\n                    <TouchableOpacity>\n                      <Text\n                        onPress={() =>\n                          navigation.navigate(\"SinglePost\", {\n                            post_id: post.p_id\n                          })\n                        }\n                        style={{ color: \"grey\" }}\n                      >\n                        {post.total_comments} comments\n                      </Text>\n                    </TouchableOpacity>\n                  ) : null}\n                </ContainerActions>\n              </Container>\n            ))}\n          </ContainerScroll>\n        )}\n        <Modal\n          animationType=\"slide\"\n          transparent={true}\n          visible={modalVisible}\n          onRequestClose={() => setModalVisible(false)}\n        >\n          <TouchableWithoutFeedback onPress={() => setModalVisible(false)}>\n            <View style={styles.modalOverlay}></View>\n          </TouchableWithoutFeedback>\n          <View style={styles.modalContent}>\n            <Icon\n              name=\"trash\"\n              size={30}\n              onPress={() => delete_post(selectedId)}\n            />\n            <Text style={{ fontWeight: \"bold\" }}>Delete Post</Text>\n          </View>\n        </Modal>\n        <BottomSheet\n          visible={bottomModalVisible}\n          onBackdropPress={toggleBottomSheet}\n        >\n          <View style={styles.bottomModal}>\n            <TouchableOpacity onPress={() => _selectPhoto()}>\n              <View style={{ display: \"flex\", flexDirection: \"row\" }}>\n                <Icon name=\"image-outline\" size={24} />\n                <Text style={{ marginTop: 2, marginLeft: 10 }}>\n                  Select Photo/GIF\n                </Text>\n              </View>\n            </TouchableOpacity>\n            <TouchableOpacity onPress={() => _takePhoto()}>\n              <View\n                style={{ display: \"flex\", flexDirection: \"row\", marginTop: 20 }}\n              >\n                <Icon name=\"camera-outline\" size={24} />\n                <Text style={{ marginTop: 2, marginLeft: 10 }}>Take Photo</Text>\n              </View>\n            </TouchableOpacity>\n            <TouchableOpacity onPress={() => _addVideo()}>\n              <View\n                style={{ display: \"flex\", flexDirection: \"row\", marginTop: 20 }}\n              >\n                <Icon name=\"videocam-outline\" size={24} />\n                <Text style={{ marginTop: 2, marginLeft: 10 }}>Add Video</Text>\n              </View>\n            </TouchableOpacity>\n          </View>\n        </BottomSheet>\n      </DrawerLayout>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  drawerText: {\n    fontSize: 22,\n    fontWeight: \"bold\",\n    marginLeft: 5,\n    color: \"black\"\n  },\n  drawerTextContainer: {\n    flexDirection: \"row\",\n    marginTop: 20,\n    width: \"100%\"\n  },\n  coverPhoto: {\n    height: 200,\n    width: \"100%\"\n  },\n  avartar: {\n    width: 110,\n    height: 110,\n    borderRadius: 110,\n    marginTop: -50,\n    borderWidth: 3,\n    borderColor: \"#fff\"\n  },\n  name: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  modalOverlay: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    height: HEIGHT,\n    width: WIDTH\n  },\n  modalContent: {\n    backgroundColor: \"#fff\",\n    height: 150,\n    width: \"80%\",\n    alignSelf: \"center\",\n    marginTop: HEIGHT / 3,\n    borderRadius: 10,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  bottomModal: {\n    backgroundColor: \"#fff\",\n    height: 250,\n    width: \"100%\",\n    alignSelf: \"center\",\n    marginTop: HEIGHT / 3,\n    borderTopLeftRadius: 10,\n    borderTopRightRadius: 10,\n    paddingLeft: 10,\n    paddingTop: 10\n  },\n\n  myVideo: {\n    flex: 1,\n    margin: 5,\n    borderRadius: 10\n  }\n});\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}